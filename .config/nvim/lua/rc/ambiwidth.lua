local M = {}

local double = {
  -- 0x2030 [‰]
  -- 0x2031 [‱]
  -- 0x2032 [′]
  -- 0x2033 [″]
  -- 0x2034 [‴]
  -- 0x2035 [‵]
  -- 0x2036 [‶]
  -- 0x2037 [‷]
  -- 0x2038 [‸]
  -- 0x2039 [‹]
  -- 0x203A [›]
  -- 0x203B [※]
  -- 0x203C [‼]
  -- 0x203D [‽]
  -- 0x203E [‾]
  -- 0x203F [‿]
  { low = 0x2030, high = 0x203f },

  -- -------------
  -- 0x2103 [℃]
  { low = 0x2103, high = 0x2103 },

  -- -------------
  -- 0x2160 [Ⅰ]
  -- 0x2161 [Ⅱ]
  -- 0x2162 [Ⅲ]
  -- 0x2163 [Ⅳ]
  -- 0x2164 [Ⅴ]
  -- 0x2165 [Ⅵ]
  -- 0x2166 [Ⅶ]
  -- 0x2167 [Ⅷ]
  -- 0x2168 [Ⅸ]
  -- 0x2169 [Ⅹ]
  { low = 0x2160, high = 0x2169 },

  -- -------------
  -- 0x2170 [ⅰ]
  -- 0x2171 [ⅱ]
  -- 0x2172 [ⅲ]
  -- 0x2173 [ⅳ]
  -- 0x2174 [ⅴ]
  -- 0x2175 [ⅵ]
  -- 0x2176 [ⅶ]
  -- 0x2177 [ⅷ]
  -- 0x2178 [ⅸ]
  -- 0x2179 [ⅹ]
  { low = 0x2170, high = 0x2179 },

  -- -------------
  -- 0x2190 [←]
  -- 0x2191 [↑]
  -- 0x2192 [→]
  -- 0x2193 [↓]
  { low = 0x2190, high = 0x2193 },

  -- -------------
  -- 0x21D2 [⇒]
  { low = 0x21d2, high = 0x21d2 },

  -- -------------
  -- 0x21D4 [⇔]
  { low = 0x21d4, high = 0x21d4 },

  -- -------------
  -- 0x2266 [≦]
  -- 0x2267 [≧]
  { low = 0x2266, high = 0x2267 },

  -- -------------
  -- 0x2460 [①]
  -- 0x2461 [②]
  -- 0x2462 [③]
  -- 0x2463 [④]
  -- 0x2464 [⑤]
  -- 0x2465 [⑥]
  -- 0x2466 [⑦]
  -- 0x2467 [⑧]
  -- 0x2468 [⑨]
  -- 0x2469 [⑩]
  -- 0x246A [⑪]
  -- 0x246B [⑫]
  -- 0x246C [⑬]
  -- 0x246D [⑭]
  -- 0x246E [⑮]
  -- 0x246F [⑯]
  -- 0x2470 [⑰]
  -- 0x2471 [⑱]
  -- 0x2472 [⑲]
  -- 0x2473 [⑳]
  -- 0x2474 [⑴]
  -- 0x2475 [⑵]
  -- 0x2476 [⑶]
  -- 0x2477 [⑷]
  -- 0x2478 [⑸]
  -- 0x2479 [⑹]
  -- 0x247A [⑺]
  -- 0x247B [⑻]
  -- 0x247C [⑼]
  -- 0x247D [⑽]
  -- 0x247E [⑾]
  -- 0x247F [⑿]
  -- 0x2480 [⒀]
  -- 0x2481 [⒁]
  -- 0x2482 [⒂]
  -- 0x2483 [⒃]
  -- 0x2484 [⒄]
  -- 0x2485 [⒅]
  -- 0x2486 [⒆]
  -- 0x2487 [⒇]
  -- 0x2488 [⒈]
  -- 0x2489 [⒉]
  -- 0x248A [⒊]
  -- 0x248B [⒋]
  -- 0x248C [⒌]
  -- 0x248D [⒍]
  -- 0x248E [⒎]
  -- 0x248F [⒏]
  -- 0x2490 [⒐]
  -- 0x2491 [⒑]
  -- 0x2492 [⒒]
  -- 0x2493 [⒓]
  -- 0x2494 [⒔]
  -- 0x2495 [⒕]
  -- 0x2496 [⒖]
  -- 0x2497 [⒗]
  -- 0x2498 [⒘]
  -- 0x2499 [⒙]
  -- 0x249A [⒚]
  -- 0x249B [⒛]
  -- 0x249C [⒜]
  -- 0x249D [⒝]
  -- 0x249E [⒞]
  -- 0x249F [⒟]
  -- 0x24A0 [⒠]
  -- 0x24A1 [⒡]
  -- 0x24A2 [⒢]
  -- 0x24A3 [⒣]
  -- 0x24A4 [⒤]
  -- 0x24A5 [⒥]
  -- 0x24A6 [⒦]
  -- 0x24A7 [⒧]
  -- 0x24A8 [⒨]
  -- 0x24A9 [⒩]
  -- 0x24AA [⒪]
  -- 0x24AB [⒫]
  -- 0x24AC [⒬]
  -- 0x24AD [⒭]
  -- 0x24AE [⒮]
  -- 0x24AF [⒯]
  -- 0x24B0 [⒰]
  -- 0x24B1 [⒱]
  -- 0x24B2 [⒲]
  -- 0x24B3 [⒳]
  -- 0x24B4 [⒴]
  -- 0x24B5 [⒵]
  -- 0x24B6 [Ⓐ]
  -- 0x24B7 [Ⓑ]
  -- 0x24B8 [Ⓒ]
  -- 0x24B9 [Ⓓ]
  -- 0x24BA [Ⓔ]
  -- 0x24BB [Ⓕ]
  -- 0x24BC [Ⓖ]
  -- 0x24BD [Ⓗ]
  -- 0x24BE [Ⓘ]
  -- 0x24BF [Ⓙ]
  -- 0x24C0 [Ⓚ]
  -- 0x24C1 [Ⓛ]
  -- 0x24C2 [Ⓜ]
  -- 0x24C3 [Ⓝ]
  -- 0x24C4 [Ⓞ]
  -- 0x24C5 [Ⓟ]
  -- 0x24C6 [Ⓠ]
  -- 0x24C7 [Ⓡ]
  -- 0x24C8 [Ⓢ]
  -- 0x24C9 [Ⓣ]
  -- 0x24CA [Ⓤ]
  -- 0x24CB [Ⓥ]
  -- 0x24CC [Ⓦ]
  -- 0x24CD [Ⓧ]
  -- 0x24CE [Ⓨ]
  -- 0x24CF [Ⓩ]
  -- 0x24D0 [ⓐ]
  -- 0x24D1 [ⓑ]
  -- 0x24D2 [ⓒ]
  -- 0x24D3 [ⓓ]
  -- 0x24D4 [ⓔ]
  -- 0x24D5 [ⓕ]
  -- 0x24D6 [ⓖ]
  -- 0x24D7 [ⓗ]
  -- 0x24D8 [ⓘ]
  -- 0x24D9 [ⓙ]
  -- 0x24DA [ⓚ]
  -- 0x24DB [ⓛ]
  -- 0x24DC [ⓜ]
  -- 0x24DD [ⓝ]
  -- 0x24DE [ⓞ]
  -- 0x24DF [ⓟ]
  -- 0x24E0 [ⓠ]
  -- 0x24E1 [ⓡ]
  -- 0x24E2 [ⓢ]
  -- 0x24E3 [ⓣ]
  -- 0x24E4 [ⓤ]
  -- 0x24E5 [ⓥ]
  -- 0x24E6 [ⓦ]
  -- 0x24E7 [ⓧ]
  -- 0x24E8 [ⓨ]
  -- 0x24E9 [ⓩ]
  -- 0x24EA [⓪]
  -- 0x24EB [⓫]
  -- 0x24EC [⓬]
  -- 0x24ED [⓭]
  -- 0x24EE [⓮]
  -- 0x24EF [⓯]
  -- 0x24F0 [⓰]
  -- 0x24F1 [⓱]
  -- 0x24F2 [⓲]
  -- 0x24F3 [⓳]
  -- 0x24F4 [⓴]
  -- 0x24F5 [⓵]
  -- 0x24F6 [⓶]
  -- 0x24F7 [⓷]
  -- 0x24F8 [⓸]
  -- 0x24F9 [⓹]
  -- 0x24FA [⓺]
  -- 0x24FB [⓻]
  -- 0x24FC [⓼]
  -- 0x24FD [⓽]
  -- 0x24FE [⓾]
  -- 0x24FF [⓿]
  { low = 0x2460, high = 0x24ff },
  -- -------------
  -- 0x25A0 [■]
  -- 0x25A1 [□]
  -- { low = 0x25a0, high = 0x25a1 },

  -- -------------
  -- 0x25B2 [▲]
  -- 0x25B3 [△]
  -- { low = 0x25b2, high = 0x25b3 },

  -- -------------
  -- 0x25BC [▼]
  -- 0x25BD [▽]
  -- { low = 0x25bc, high = 0x25bd },

  -- -------------
  -- 0x25C6 [◆]
  -- 0x25C7 [◇]
  -- { low = 0x25c6, high = 0x25c7 },

  -- -------------
  -- 0x25CB [○]
  -- { low = 0x25cb, high = 0x25cb },

  -- -------------
  -- 0x25CF [●]
  -- { low = 0x25cf, high = 0x25cf },

  -- -------------
  -- 0x2600 [☀]
  -- 0x2601 [☁]
  -- 0x2602 [☂]
  -- 0x2603 [☃]
  -- 0x2604 [☄]
  -- 0x2605 [★]
  -- 0x2606 [☆]
  -- 0x2607 [☇]
  -- 0x2608 [☈]
  -- 0x2609 [☉]
  -- 0x260A [☊]
  -- 0x260B [☋]
  -- 0x260C [☌]
  -- 0x260D [☍]
  -- 0x260E [☎]
  -- 0x260F [☏]
  -- 0x2610 [☐]
  -- 0x2611 [☑]
  -- 0x2612 [☒]
  -- 0x2613 [☓]
  -- 0x2614 [☔]
  -- 0x2615 [☕]
  -- 0x2616 [☖]
  -- 0x2617 [☗]
  -- 0x2618 [☘]
  -- 0x2619 [☙]
  -- 0x261A [☚]
  -- 0x261B [☛]
  -- 0x261C [☜]
  -- 0x261D [☝]
  -- 0x261E [☞]
  -- 0x261F [☟]
  -- 0x2620 [☠]
  -- 0x2621 [☡]
  -- 0x2622 [☢]
  -- 0x2623 [☣]
  -- 0x2624 [☤]
  -- 0x2625 [☥]
  -- 0x2626 [☦]
  -- 0x2627 [☧]
  -- 0x2628 [☨]
  -- 0x2629 [☩]
  -- 0x262A [☪]
  -- 0x262B [☫]
  -- 0x262C [☬]
  -- 0x262D [☭]
  -- 0x262E [☮]
  -- 0x262F [☯]
  -- 0x2630 [☰]
  -- 0x2631 [☱]
  -- 0x2632 [☲]
  -- 0x2633 [☳]
  -- 0x2634 [☴]
  -- 0x2635 [☵]
  -- 0x2636 [☶]
  -- 0x2637 [☷]
  -- 0x2638 [☸]
  -- 0x2639 [☹]
  -- 0x263A [☺]
  -- 0x263B [☻]
  -- 0x263C [☼]
  -- 0x263D [☽]
  -- 0x263E [☾]
  -- 0x263F [☿]
  -- 0x2640 [♀]
  -- 0x2641 [♁]
  -- 0x2642 [♂]
  -- 0x2643 [♃]
  -- 0x2644 [♄]
  -- 0x2645 [♅]
  -- 0x2646 [♆]
  -- 0x2647 [♇]
  -- 0x2648 [♈]
  -- 0x2649 [♉]
  -- 0x264A [♊]
  -- 0x264B [♋]
  -- 0x264C [♌]
  -- 0x264D [♍]
  -- 0x264E [♎]
  -- 0x264F [♏]
  -- 0x2650 [♐]
  -- 0x2651 [♑]
  -- 0x2652 [♒]
  -- 0x2653 [♓]
  -- 0x2654 [♔]
  -- 0x2655 [♕]
  -- 0x2656 [♖]
  -- 0x2657 [♗]
  -- 0x2658 [♘]
  -- 0x2659 [♙]
  -- 0x265A [♚]
  -- 0x265B [♛]
  -- 0x265C [♜]
  -- 0x265D [♝]
  -- 0x265E [♞]
  -- 0x265F [♟]
  -- 0x2660 [♠]
  -- 0x2661 [♡]
  -- 0x2662 [♢]
  -- 0x2663 [♣]
  -- 0x2664 [♤]
  -- 0x2665 [♥]
  -- 0x2666 [♦]
  -- 0x2667 [♧]
  -- 0x2668 [♨]
  -- 0x2669 [♩]
  -- 0x266A [♪]
  -- 0x266B [♫]
  -- 0x266C [♬]
  -- 0x266D [♭]
  -- 0x266E [♮]
  -- 0x266F [♯]
  -- 0x2670 [♰]
  -- 0x2671 [♱]
  -- 0x2672 [♲]
  -- 0x2673 [♳]
  -- 0x2674 [♴]
  -- 0x2675 [♵]
  -- 0x2676 [♶]
  -- 0x2677 [♷]
  -- 0x2678 [♸]
  -- 0x2679 [♹]
  -- 0x267A [♺]
  -- 0x267B [♻]
  -- 0x267C [♼]
  -- 0x267D [♽]
  -- 0x267E [♾]
  -- 0x267F [♿]
  { low = 0x2600, high = 0x267f },

  -- -------------
  -- 0x2690 [⚐]
  -- 0x2691 [⚑]
  -- 0x2692 [⚒]
  -- 0x2693 [⚓]
  -- 0x2694 [⚔]
  -- 0x2695 [⚕]
  -- 0x2696 [⚖]
  -- 0x2697 [⚗]
  -- 0x2698 [⚘]
  -- 0x2699 [⚙]
  -- 0x269A [⚚]
  -- 0x269B [⚛]
  -- 0x269C [⚜]
  { low = 0x2690, high = 0x269c },

  -- -------------
  -- 0x26A0 [⚠]
  -- 0x26A1 [⚡]
  -- 0x26A2 [⚢]
  -- 0x26A3 [⚣]
  -- 0x26A4 [⚤]
  -- 0x26A5 [⚥]
  -- 0x26A6 [⚦]
  -- 0x26A7 [⚧]
  -- 0x26A8 [⚨]
  -- 0x26A9 [⚩]
  -- 0x26AA [⚪]
  -- 0x26AB [⚫]
  -- 0x26AC [⚬]
  -- 0x26AD [⚭]
  { low = 0x26a0, high = 0x26ad },

  -- -------------
  -- 0x26B0 [⚰]
  -- 0x26B1 [⚱]
  { low = 0x26b0, high = 0x26b1 },

  -- -------------
  -- 0x26B9 [⚹]
  { low = 0x26b9, high = 0x26b9 },

  -- -------------
  -- 0x2701 [✁]
  -- 0x2702 [✂]
  -- 0x2703 [✃]
  -- 0x2704 [✄]
  -- 0x2705 [✅]
  -- 0x2706 [✆]
  -- 0x2707 [✇]
  -- 0x2708 [✈]
  -- 0x2709 [✉]
  { low = 0x2701, high = 0x2709 },

  -- -------------
  -- 0x270C [✌]
  -- 0x270D [✍]
  -- 0x270E [✎]
  -- 0x270F [✏]
  -- 0x2710 [✐]
  -- 0x2711 [✑]
  -- 0x2712 [✒]
  -- 0x2713 [✓]
  -- 0x2714 [✔]
  -- 0x2715 [✕]
  -- 0x2716 [✖]
  -- 0x2717 [✗]
  -- 0x2718 [✘]
  -- 0x2719 [✙]
  -- 0x271A [✚]
  -- 0x271B [✛]
  -- 0x271C [✜]
  -- 0x271D [✝]
  -- 0x271E [✞]
  -- 0x271F [✟]
  -- 0x2720 [✠]
  -- 0x2721 [✡]
  -- 0x2722 [✢]
  -- 0x2723 [✣]
  -- 0x2724 [✤]
  -- 0x2725 [✥]
  -- 0x2726 [✦]
  -- 0x2727 [✧]
  { low = 0x270c, high = 0x2727 },

  -- -------------
  -- 0x2729 [✩]
  -- 0x272A [✪]
  -- 0x272B [✫]
  -- 0x272C [✬]
  -- 0x272D [✭]
  -- 0x272E [✮]
  -- 0x272F [✯]
  -- 0x2730 [✰]
  -- 0x2731 [✱]
  -- 0x2732 [✲]
  -- 0x2733 [✳]
  -- 0x2734 [✴]
  -- 0x2735 [✵]
  -- 0x2736 [✶]
  -- 0x2737 [✷]
  -- 0x2738 [✸]
  -- 0x2739 [✹]
  -- 0x273A [✺]
  -- 0x273B [✻]
  -- 0x273C [✼]
  -- 0x273D [✽]
  -- 0x273E [✾]
  -- 0x273F [✿]
  -- 0x2740 [❀]
  -- 0x2741 [❁]
  -- 0x2742 [❂]
  -- 0x2743 [❃]
  -- 0x2744 [❄]
  -- 0x2745 [❅]
  -- 0x2746 [❆]
  -- 0x2747 [❇]
  -- 0x2748 [❈]
  -- 0x2749 [❉]
  -- 0x274A [❊]
  -- 0x274B [❋]
  -- 0x274C [❌]
  -- 0x274D [❍]
  { low = 0x2729, high = 0x274d },

  -- -------------
  -- 0x274F [❏]
  -- 0x2750 [❐]
  -- 0x2751 [❑]
  -- 0x2752 [❒]
  { low = 0x274f, high = 0x2752 },

  -- -------------
  -- 0x2756 [❖]
  { low = 0x2756, high = 0x2756 },

  -- -------------
  -- 0x2758 [❘]
  -- 0x2759 [❙]
  -- 0x275A [❚]
  -- 0x275B [❛]
  -- 0x275C [❜]
  -- 0x275D [❝]
  -- 0x275E [❞]
  { low = 0x2758, high = 0x275e },

  -- -------------
  -- 0x2761 [❡]
  -- 0x2762 [❢]
  -- 0x2763 [❣]
  -- 0x2764 [❤]
  -- 0x2765 [❥]
  -- 0x2766 [❦]
  -- 0x2767 [❧]
  -- 0x2768 [❨]
  -- 0x2769 [❩]
  -- 0x276A [❪]
  -- 0x276B [❫]
  -- 0x276C [❬]
  -- 0x276D [❭]
  -- 0x276E [❮]
  -- 0x276F [❯]
  -- 0x2770 [❰]
  -- 0x2771 [❱]
  -- 0x2772 [❲]
  -- 0x2773 [❳]
  -- 0x2774 [❴]
  -- 0x2775 [❵]
  -- 0x2776 [❶]
  -- 0x2777 [❷]
  -- 0x2778 [❸]
  -- 0x2779 [❹]
  -- 0x277A [❺]
  -- 0x277B [❻]
  -- 0x277C [❼]
  -- 0x277D [❽]
  -- 0x277E [❾]
  -- 0x277F [❿]
  -- 0x2780 [➀]
  -- 0x2781 [➁]
  -- 0x2782 [➂]
  -- 0x2783 [➃]
  -- 0x2784 [➄]
  -- 0x2785 [➅]
  -- 0x2786 [➆]
  -- 0x2787 [➇]
  -- 0x2788 [➈]
  -- 0x2789 [➉]
  -- 0x278A [➊]
  -- 0x278B [➋]
  -- 0x278C [➌]
  -- 0x278D [➍]
  -- 0x278E [➎]
  -- 0x278F [➏]
  -- 0x2790 [➐]
  -- 0x2791 [➑]
  -- 0x2792 [➒]
  -- 0x2793 [➓]
  -- 0x2794 [➔]
  { low = 0x2761, high = 0x2794 },

  -- -------------
  -- 0x2798 [➘]
  -- 0x2799 [➙]
  -- 0x279A [➚]
  -- 0x279B [➛]
  -- 0x279C [➜]
  -- 0x279D [➝]
  -- 0x279E [➞]
  -- 0x279F [➟]
  { low = 0x2798, high = 0x279f },

  -- -------------
  -- 0x27F5 [⟵]
  -- 0x27F6 [⟶]
  -- 0x27F7 [⟷]
  { low = 0x27f5, high = 0x27f7 },

  -- -------------
  -- 0x2B05 [⬅]
  -- 0x2B06 [⬆]
  -- 0x2B07 [⬇]
  -- 0x2B08 [⬈]
  -- 0x2B09 [⬉]
  -- 0x2B0A [⬊]
  -- 0x2B0B [⬋]
  -- 0x2B0C [⬌]
  -- 0x2B0D [⬍]
  { low = 0x2b05, high = 0x2b0d },

  -- -------------
  -- 0x303F [〿]
  { low = 0x303f, high = 0x303f },

  -- -------------
  -- 0xE62E []
  { low = 0xe62e, high = 0xe62e },

  -- -------------
  -- 0xF315 []
  -- 0xF316 []
  { low = 0xf315, high = 0xf316 },

  -- -------------
  -- 0xF31B []
  -- 0xF31C []
  { low = 0xf31b, high = 0xf31c },
}

function M.setup()
  local ignore = {}
  local listchars = vim.tbl_values(vim.opt.listchars:get())
  local fillchars = vim.tbl_values(vim.opt.fillchars:get())
  vim.list_extend(ignore, listchars)
  vim.list_extend(ignore, fillchars)

  local cellwidths = {}
  for _, point in pairs(double) do
    for c = point.low, point.high do
      if not vim.list_contains(ignore, vim.fn.nr2char(c)) then
        -- print(c, vim.fn.nr2char(c))
        table.insert(cellwidths, { c, c, 2 })
      end
    end
    vim.fn.setcellwidths(cellwidths)
  end
end

function M.show()
  local message = {}
  for i, point in pairs(double) do
    table.insert(message, string.format("(%d) 0x%X ~ 0x%X", i, point.low, point.high))
    for c = point.low, point.high do
      table.insert(message, string.format("0x%X [%s]", c, vim.fn.nr2char(c)))
    end
    table.insert(message, "-------------")
  end
  vim.notify(table.concat(message, "\n"))
end

return M
